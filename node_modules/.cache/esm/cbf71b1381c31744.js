let axios,cheerio;_81c‍.x([["getHTML",()=>getHTML],["getGenres",()=>getGenres]]);_81c‍.w("axios",[["default",["axios"],function(v){axios=v}]]);_81c‍.w("cheerio",[["default",["cheerio"],function(v){cheerio=v}]]);


async function getHTML(url) {
  const { data: html } = await axios.get(url);
  return html;
}

async function getGenres(html) {
  // this is the raw data for homepage
  //   const $ = cheerio.load(html);
  //   const genres = $('.scanme');
  //   console.log(genres.text().split('» '));

  let gm = new Map();
  const $ = cheerio.load(html);
  const genres = $('tr');

  let names = [];
  genres
    .find('[title="Re-sort the list starting from here."]')
    .each((i, n) => names.push($(n).text()));

  let links = [];

  genres.each((i, e) =>
    links.push($(e).find('[title="See this playlist"]').attr('href'))
  );

  names.forEach((e, i) => (gm[e] = links[i]));

  _81c‍.g.console.log(gm);

  //   gm[
  //     genres.find('[title="Re-sort the list starting from here."]').text()
  //   ] = genres.find('[title="See this playlist"]').attr('href');
  //   genres.each(
  //     (i, obj) => ({
  //      gm[obj
  //         .find('[title="Re-sort the list starting from here."]')
  //         .text()]= obj.find('[title="See this playlist"]').attr('href'),
  //     })
}


